(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4908a6e5"],{"948e":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("ul",t._l(t.dataList,function(i,n){return e("li",{key:n,staticClass:"item-list clearfix",on:{click:function(e){return t.goDetail(i.id)}}},[e("div",{staticClass:"list-left"},[e("img",{attrs:{src:i.cover.url,alt:""}})]),e("div",{staticClass:"list-right"},[e("h4",[t._v(t._s(i.title))]),t._l(i.actors,function(i,n){return e("span",{key:n},[t._v(t._s(i)+"/")])}),e("p",[t._v(t._s(i.year)+"年")])],2)])}),0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"loading"},[t._m(0)])])},a=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"loading-content"},[n("img",{attrs:{src:e("f8b2"),alt:""}})])}],s={data:function(){return{dataList:[],listStart:0,isLoading:!0}},mounted:function(){var t=this;window.onscroll=function(){var i=document.documentElement.clientHeight,e=document.documentElement.scrollTop,n=document.documentElement.scrollHeight;console.log(i,e,n),i+e>=n-10&&t.isLoading&&22!=t.dataList.length&&(t.listStart+=10,t.getData())}},created:function(){this.getData()},methods:{getData:function(){var t=this,i="https://bird.ioliu.cn/v2?url=",e="https://m.douban.com/rexxar/api/v2/subject_collection/movie_showing/items?start=".concat(this.listStart,"&count=10");this.isLoading=!1,axios.get(i+e).then(function(i){console.log(i.data.subject_collection_items),t.dataList=t.dataList.concat(i.data.subject_collection_items),t.isLoading=!0}).catch(function(t){console.log("失败")})},goDetail:function(t){this.$router.push({name:"moviedetail",params:{movieId:t}})}}},o=s,c=(e("e148"),e("2877")),l=Object(c["a"])(o,n,a,!1,null,"58726467",null);i["default"]=l.exports},b5e7:function(t,i,e){},e148:function(t,i,e){"use strict";var n=e("b5e7"),a=e.n(n);a.a},f8b2:function(t,i,e){t.exports=e.p+"img/loading.e70fee8c.gif"}}]);
//# sourceMappingURL=chunk-4908a6e5.d59a80c0.js.map